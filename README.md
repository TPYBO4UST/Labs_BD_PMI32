# –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ:
1. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-1)
2. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-2)
3. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-3)
4. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ4](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-4)
5. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ5](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-5)
6. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-6)
7. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ7](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-7)
8. [–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ8](#–ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è-—Ä–∞–±–æ—Ç–∞-8)

# üè• –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–∞ –≤ –±–æ–ª—å–Ω–∏—Ü–µ

[–í–∞—Ä–∏–∞–Ω—Ç 26](https://docs.google.com/document/d/1P1bwsIgZWwOLAHFtYpFxWD9C4rTAEKkA/edit?tab=t.0)

## üìã –û –ø—Ä–æ–µ–∫—Ç–µ

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ —É—á—Ä–µ–∂–¥–µ–Ω–∏—è. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞—Ü–∏–µ–Ω—Ç–∞–º–∏, –≤—Ä–∞—á–∞–º–∏, –æ—Ç–¥–µ–ª–µ–Ω–∏—è–º–∏ –∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –∑–∞–ø–∏—Å—è–º–∏.

### –û–ø–∏—Å–∞–Ω–∏–µ –ü—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

<li>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–¥–µ–ª–µ–Ω–∏—è—Ö —Å—Ç–∞—Ü–∏–æ–Ω–∞—Ä–∞: –Ω–∞–∑–≤–∞–Ω–∏–µ, –∫–æ–ª-–≤–æ –∫–æ–µ–∫, –∫–æ–ª-–≤–æ –ø–∞–ª–∞—Ç, –∑–∞–≤–µ–¥—É—é—â–∏–π</li>
<li>–ü–∞—Ü–∏–µ–Ω—Ç—ã: –§–ò–û, –ø–∞—Å–ø–æ—Ä—Ç, –ø–æ–ª–∏—Å, —Ç–µ–ª–µ—Ñ–æ–Ω, –∞–¥—Ä–µ—Å, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è, –ª–µ—á–∞—â–∏–π –≤—Ä–∞—á</li>
<li>–í—Ä–∞—á–∏: –§–ò–û, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</li>
<li>–ü–∞–ª–∞—Ç—ã: –∫–æ–ª-–≤–æ –∫–æ–µ–∫, –º/–∂</li>
P.S. –†–µ—à–∏–ª–∏ —á—Ç–æ –ª–µ—á–∞—â–µ–≥–æ –≤—Ä–∞—á–∞ –ª—É—á—à–µ –ø—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å –∫ –ø–∞—Ü–∏–µ–Ω—Ç—É.

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ1
### 1. –ú–æ–¥–µ–ª—å "–°—É—â–Ω–æ—Å—Ç—å-–°–≤—è–∑—å"

![ER Diagram](Images/—Å—É—â–Ω–æ—Å—Ç—å-—Å–≤—è–∑—å.jpg)

### 2. –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å

![Relational Model](Images/—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è.jpg)

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ2
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –≤ –°–£–ë–î Microsoft SQL Server –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏(–ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –≤ 1-–æ–π –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ)
### –î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∫–æ–¥–∞ mssql(–≤ –°–£–ë–î dbeaver)

![Relational Model](Images/2lab_dg.jpg)

### –ü—Ä–∏–º–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã
```sql
CREATE TABLE ward(
    id SMALLINT IDENTITY(1,1) PRIMARY KEY,
    id_hospital_department SMALLINT FOREIGN KEY REFERENCES hospital_department(id),
    number SMALLINT,
    number_of_beds SMALLINT,
    m_or_w CHAR(1) CHECK (m_or_w IN ('M', 'W')),
    key_diagnosis VARCHAR(6) NOT NULL FOREIGN KEY REFERENCES diagnosis([code-mkb10])
);
```
### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã

```sql
INSERT INTO doctor (full_name, specialization) VALUES
('–ò–≤–∞–Ω–æ–≤ –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á', '–ö–∞—Ä–¥–∏–æ–ª–æ–≥'),
('–ü–µ—Ç—Ä–æ–≤–∞ –ï–ª–µ–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞', '–≠–Ω–¥–æ–∫—Ä–∏–Ω–æ–ª–æ–≥'),
('–°–∏–¥–æ—Ä–æ–≤ –ú–∏—Ö–∞–∏–ª –ü–µ—Ç—Ä–æ–≤–∏—á', '–ü—É–ª—å–º–æ–Ω–æ–ª–æ–≥'),
('–ö—É–∑–Ω–µ—Ü–æ–≤–∞ –û–ª—å–≥–∞ –ò–≤–∞–Ω–æ–≤–Ω–∞', '–ì–∞—Å—Ç—Ä–æ—ç–Ω—Ç–µ—Ä–æ–ª–æ–≥'),
('–ù–∏–∫–æ–ª–∞–µ–≤ –î–º–∏—Ç—Ä–∏–π –ê–ª–µ–∫—Å–µ–µ–≤–∏—á', '–ù–µ–≤—Ä–æ–ª–æ–≥'),
('–í–æ–ª–∫–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞', '–¢–µ—Ä–∞–ø–µ–≤—Ç'),
('–°–µ–º–µ–Ω–æ–≤ –ò–≥–æ—Ä—å –ù–∏–∫–æ–ª–∞–µ–≤–∏—á', '–•–∏—Ä—É—Ä–≥'),
('–§–µ–¥–æ—Ä–æ–≤–∞ –ú–∞—Ä–∏–Ω–∞ –î–º–∏—Ç—Ä–∏–µ–≤–Ω–∞', '–£—Ä–æ–ª–æ–≥'),
('–ü–∞–≤–ª–æ–≤ –ê–ª–µ–∫—Å–µ–π –í–∏–∫—Ç–æ—Ä–æ–≤–∏—á', '–û—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥'),
('–°–æ–∫–æ–ª–æ–≤–∞ –¢–∞—Ç—å—è–Ω–∞ –ú–∏—Ö–∞–π–ª–æ–≤–Ω–∞', '–û—Ç–æ–ª–∞—Ä–∏–Ω–≥–æ–ª–æ–≥');
```

[–ü–æ–ª–Ω—ã–π –∫–æ–¥](https://github.com/TPYBO4UST/Labs_BD_PMI32/blob/main/Lab_2/Lab2.sql)


## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ3
### –û—Å–≤–æ–µ–Ω–∏–µ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π SQL –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–æ–ª—å–Ω–∏—Ü—ã. –í–∫–ª—é—á–∞–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ —Ä–∞–∑–ª–∏—á–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

### üìÅ –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Ñ–∞–π–ª–∞–º:

- **–ß–∞—Å—Ç—å 1 –ø—É–Ω–∫—Ç 1** - —Ñ–∞–π–ª [Part_I_1.sql](https://github.com/TPYBO4UST/Labs_BD_PMI32/blob/main/Lab_3/Part_I_1.sql)
- **–ß–∞—Å—Ç—å 1 –ø—É–Ω–∫—Ç 2** - —Ñ–∞–π–ª [Part_I_2.sql](https://github.com/TPYBO4UST/Labs_BD_PMI32/blob/main/Lab_3/Part_I_2.sql)
- **–ß–∞—Å—Ç—å 1 –ø—É–Ω–∫—Ç—ã 3-6** - —Ñ–∞–π–ª [Part_I_3456.sql](https://github.com/TPYBO4UST/Labs_BD_PMI32/blob/main/Lab_3/Part_I_3456.sql)
- **–ß–∞—Å—Ç—å 2** - —Ñ–∞–π–ª [Part_II.sql](https://github.com/TPYBO4UST/Labs_BD_PMI32/blob/main/Lab_3/Part_II.sql)

### üìÑ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
[üì• –°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç](https://github.com/TPYBO4UST/Labs_BD_PMI32/raw/main/Lab_3/–û—Ç—á–µ—Ç.docx) - –∫–æ–¥ sql + –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∞


## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ4
### –°–æ–∑–¥–∞–Ω–∏–µ –•—Ä–∞–Ω–∏–º—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏ —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤ –Ω–∞ mssql.

### 1. [–•—Ä–∞–Ω–∏–º—ã–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã](Lab_4/procedure.sql)
### –í—ã–≤–æ–¥ –∫–æ–Ω—Å–æ–ª–∏:
#### –ó–∞–¥–∞–Ω–∏–µ –ê
![A)](Lab_4/image_output/Procedures/A.png)

#### –ó–∞–¥–∞–Ω–∏–µ B
![B)](Lab_4/image_output/Procedures/B.png)

#### –ó–∞–¥–∞–Ω–∏–µ C
![C)](Lab_4/image_output/Procedures/C.png)

#### –ó–∞–¥–∞–Ω–∏–µ D
![D)](Lab_4/image_output/Procedures/D.png)

### 2. [–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏](Lab_4/function.sql)
#### –ó–∞–¥–∞–Ω–∏–µ –ê
![A)](Lab_4/image_output/Functions/A.png)

#### –ó–∞–¥–∞–Ω–∏–µ B
![B)](Lab_4/image_output/Functions/B.png)

#### –ó–∞–¥–∞–Ω–∏–µ C
![C)](Lab_4/image_output/Functions/C.png)

### 3. [–¢—Ä–∏–≥–≥–µ—Ä—ã](Lab_4/triggers.sql)
#### –ó–∞–¥–∞–Ω–∏–µ –ê
#### –°–º–æ—Ç—Ä–∏–º –Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–∞–ª–∞—Ç—ã:
![A)](Lab_4/image_output/Triggers/a_select.png)
#### –†–∞–±–æ—Ç–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞ 
![A2)](Lab_4/image_output/Triggers/a_trigger.png)

#### –ó–∞–¥–∞–Ω–∏–µ B
#### –í—ã–≤–æ–¥–∏–º –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã—Ö —Ö–æ—Ç–∏–º –≤—ã–ø–∏—Å–∞—Ç—å
![B)](Lab_4/image_output/Triggers/b_select.png)
#### –†–∞–±–æ—Ç–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞(–≤ –ø—Ä–∞–≤–æ–º —É–≥–ª—É –≤–∏–¥–µ–º –ø—Ä–∏–Ω—Ç, –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–∞–ª–∞—Ç–∞ 402 —Å—Ç–∞–ª–∞ —Å–≤–æ–±–æ–¥–Ω–∞):
![B2)](Lab_4/image_output/Triggers/b_–≤—ã–ø–∏—Å–∫–∞.png)

#### –ó–∞–¥–∞–Ω–∏–µ –°
#### –†–∞–±–æ—Ç–∞ —Ç—Ä–∏–≥–≥–µ—Ä–∞(—É–¥–∞–ª–µ–Ω–∏–µ –ø–∞–ª–∞—Ç –±–µ–∑ –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤)
![C)](Lab_4/image_output/Triggers/c_delete.png)

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ5.
### –î–∞–Ω–Ω–∞—è –ª–∞–±–æ—Ä—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –∏–∑—É—á–µ–Ω–∏–µ –∏–∑—É—á–µ–Ω–∏–µ –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º –≤ –°–£–ë–î MS SQL Server —á–µ—Ä–µ–∑ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–æ–ª–µ–π, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
#### [–§–∞–π–ª](Lab_5/lab_5_role.sql)
#### P.S. –°–¥–∞–µ—Ç—Å—è –æ—á–Ω–æ.

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ6.
### –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±–æ–ª—å–Ω–∏—Ü—ã –≤ –≥—Ä–∞—Ñ–æ–≤—É—é —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä.

![graph diag](Lab_6/img/diag.png)

- **–°–æ–∑–¥–∞–Ω–∏–µ —É–∑–ª–æ–≤ –∏ —Ä–µ–±–µ—Ä** - [Create file](Lab_6/Lab_6_create.sql)
- **–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–∑ 2 –õ–∞–±—ã** - [Insert file](Lab_6/Lab_6_insert.sql)
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ 3 –ª–∞–±—ã** - ![–†–µ–∞–ª–∏–∑–∞—Ü–∏—è CTE 3.2](Lab_6/CTE_in_labs3.2.sql) 

### –í—ã–≤–æ–¥—ã –∑–∞–ø—Ä–æ—Å–æ–≤ 3.2
![output1](Lab_6/img/res1.png)

![output2](Lab_6/img/res2.png)


## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ7.
### –ò–∑—É—á–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ mssql

### –ó–∞–¥–∞–Ω–∏–µ 1. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å –æ—Ç–∫–∞—Ç–æ–º –∏ —Ñ–∏–∫—Å–∞—Ü–∏–µ–π
- **–ö–æ–¥ –∑–∞–¥–∞–Ω–∏—è 1**- ![task1](Lab_7/task1/tranzakt_1_zad.sql)
#### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å –æ—Ç–∫–∞—Ç–æ–º
![1)](Lab_7/task1/img/1.png)
![2)](Lab_7/task1/img/2.png)
![3)](Lab_7/task1/img/3.png)
#### –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —Å —Ñ–∏–∫—Å–∞—Ü–∏–µ–π
![4)](Lab_7/task1/img/4.png)
![5)](Lab_7/task1/img/5.png)

### –ó–∞–¥–∞–Ω–∏–µ 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω–µ–π –∏–∑–æ–ª—è—Ü–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
#### 1. –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ READ UNCOMMITTED
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 1**- ![session1](Lab_7/task2/READ%20UNCOMMITTED/seans1.sql)
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 2**- ![session2](Lab_7/task2/READ%20UNCOMMITTED/seans2.sql)

![1)](Lab_7/task2/READ%20UNCOMMITTED/img/dirt1.png)
![2)](Lab_7/task2/READ%20UNCOMMITTED/img/dirt2.png)

- **–°–µ–∞–Ω—Å 1: –ù–∞—á–∏–Ω–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –∏–∑–º–µ–Ω—è–µ—Ç –∞–¥—Ä–µ—Å –ø–∞—Ü–∏–µ–Ω—Ç–∞ —Å id=1**
- **–°–µ–∞–Ω—Å 2: –í–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å "–ù–æ–≤—ã–π –∞–¥—Ä–µ—Å (–≥—Ä—è–∑–Ω–æ–µ —á—Ç–µ–Ω–∏–µ)" –¥–∞–∂–µ –¥–æ –∫–æ–º–º–∏—Ç–∞**
- **–°–µ–∞–Ω—Å 1: –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –°–µ–∞–Ω—Å 2 –ø—Ä–æ—á–∏—Ç–∞–ª "–≥—Ä—è–∑–Ω—ã–µ" –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã**

#### 2. –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ READ COMMITTED
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 1**- ![session1](Lab_7/task2/READ%20COMMITTED/seans1.sql)
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 2**- ![session2](Lab_7/task2/READ%20COMMITTED/seans2.sql)

![1)](Lab_7/task2/READ%20COMMITTED/img/1.png)
![2)](Lab_7/task2/READ%20COMMITTED/img/3.png)
![3)](Lab_7/task2/READ%20COMMITTED/img/2.png)

- **–°–µ–∞–Ω—Å 1: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–π –∞–¥—Ä–µ—Å**
- **–°–µ–∞–Ω—Å 2: –ò–∑–º–µ–Ω—è–µ—Ç –∞–¥—Ä–µ—Å –∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è**
- **–°–µ–∞–Ω—Å 1: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–∂–µ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π –∞–¥—Ä–µ—Å**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –ù–µ–ø–æ–≤—Ç–æ—Ä—è—é—â–µ–µ—Å—è —á—Ç–µ–Ω–∏–µ - –¥–≤–∞ —á—Ç–µ–Ω–∏—è –≤ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤–µ—Ä–Ω—É–ª–∏ —Ä–∞–∑–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**

#### 3. –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ REPEATABLE READ
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 1**- ![session1](Lab_7/task2/REPEATABLE%20READ/seans1.sql)
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 2**- ![session2](Lab_7/task2/REPEATABLE%20READ/seans2.sql)

![1)](Lab_7/task2/REPEATABLE%20READ/img/res1.png)
![2)](Lab_7/task2/REPEATABLE%20READ/img/res2.png)
![3)](Lab_7/task2/REPEATABLE%20READ/img/ses2.png)

- **–°–µ–∞–Ω—Å 1: –ü–µ—Ä–≤–æ–µ —á—Ç–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, 2 –ø–∞—Ü–∏–µ–Ω—Ç–∞ –≤ –ø–∞–ª–∞—Ç–µ 1**
- **–°–µ–∞–Ω—Å 2: –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–≥–æ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –≤ –ø–∞–ª–∞—Ç—É 1**
- **–°–µ–∞–Ω—Å 1: –í—Ç–æ—Ä–æ–µ —á—Ç–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 3 –ø–∞—Ü–∏–µ–Ω—Ç–∞**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –§–∞–Ω—Ç–æ–º–Ω–æ–µ —á—Ç–µ–Ω–∏–µ - –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –∑–∞–ø–∏—Å—å, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—é—â–∞—è —É—Å–ª–æ–≤–∏—é –∑–∞–ø—Ä–æ—Å–∞**

#### 4. –£—Ä–æ–≤–µ–Ω—å –∏–∑–æ–ª—è—Ü–∏–∏ SERIALIZABLE
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 1**- ![session1](Lab_7/task2/SERIALIZABLE/seans1.sql)
- **–ö–æ–¥ —Å–µ—Å—Å–∏–∏ 2**- ![session2](Lab_7/task2/SERIALIZABLE/seans2.sql)

![1)](Lab_7/task2/SERIALIZABLE/img/res1.png)
![1)](Lab_7/task2/SERIALIZABLE/img/res2.png)
![1)](Lab_7/task2/SERIALIZABLE/img/ses2.png)

- **–°–µ–∞–Ω—Å 1: –ù–∞—á–∏–Ω–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–∏–∞–ø–∞–∑–æ–Ω –∑–∞–ø–∏—Å–µ–π**
- **–°–µ–∞–Ω—Å 2: –ü—ã—Ç–∞–µ—Ç—Å—è –≤—Å—Ç–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å, –Ω–æ –æ–ø–µ—Ä–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤ —Å–µ–∞–Ω—Å–µ 1**
- **–°–µ–∞–Ω—Å 1: –ó–∞–≤–µ—Ä—à–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é**
- **–°–µ–∞–Ω—Å 2: –í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å—Ç–∞–≤–∫—É**
- **–†–µ–∑—É–ª—å—Ç–∞—Ç: –§–∞–Ω—Ç–æ–º–Ω–æ–µ —á—Ç–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–æ - –æ–±–∞ —á—Ç–µ–Ω–∏—è –≤ —Å–µ–∞–Ω—Å–µ 1 –≤–µ—Ä–Ω—É–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π**

## –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ8.
### –ò–∑—É—á–µ–∏–µ mongodb

## –ó–∞–¥–∞–Ω–∏–µ 1: –†–∞–±–æ—Ç–∞ —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π restaurants.json

### 1. –í—ã–≤–æ–¥ –≤—Å–µ—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –±–µ–∑ _id
```javascript
db.restaurants.find(
  {},
  { _id: 0, restaurant_id: 1, name: 1, borough: 1, cuisine: 1 }
).limit(5)
```
![1.](lab_8/zadanie1/1.png)

### 2. –ü–µ—Ä–≤—ã–µ 5 —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –∏–∑ Bronx –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É
```javascript
db.restaurants.find(
    { borough: "Bronx" },
    {
        _id: 0,
        restaurant_id: 1,
        name: 1,
        borough: 1,
        cuisine: 1
    }
)
.sort({ name: 1 })
.limit(5)
```
![2.](lab_8/zadanie1/2.png)

### 3. –†–µ—Å—Ç–æ—Ä–∞–Ω—ã —Å –æ—Ü–µ–Ω–∫–æ–π 80-100
```javascript
db.restaurants.find({
  "grades.score": { $gt: 80, $lt: 100 }
}).limit(5)
```
![3.](lab_8/zadanie1/3.png)

### 4. –ù–µ American –∫—É—Ö–Ω—è, –æ—Ü–µ–Ω–∫–∞ A, –Ω–µ Brooklyn
```javascript
db.restaurants.find({
  cuisine: { $ne: "American" },
  "grades.grade": "A",
  borough: { $ne: "Brooklyn" }
}).sort({ cuisine: -1 }).limit(5)
```
![4.](lab_8/zadanie1/4.png)

### 5. –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å "Wil"
```javascript
db.restaurants.find({
  name: /^Wil/
}, {
  _id: 0,
  restaurant_id: 1,
  name: 1,
  borough: 1,
  cuisine: 1
})
```
![5.](lab_8/zadanie1/5.png)

### 6. Bronx –∏ (American –∏–ª–∏ Chinese)
```javascript
db.restaurants.find({
  borough: "Bronx",
  cuisine: { $in: ["American", "Chinese"] }
}, {
  _id: 0,
  name: 1,
  cuisine: 1
}).limit(10)
```
![6.](lab_8/zadanie1/6.png)

### 7. –û—Ü–µ–Ω–∫–∞ A —Å score=9 –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—É—é –¥–∞—Ç—É
```javascript
db.restaurants.find({
  "grades": {
    $elemMatch: {
      "grade": "A",
      "score": 9,
      "date": ISODate("2014-08-11T00:00:00Z")
    }
  }
}, {
  _id: 0,
  restaurant_id: 1,
  name: 1,
  grades: 1
})
```
![7.](lab_8/zadanie1/7.png)

### 8. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤ –ø–æ —Ä–∞–π–æ–Ω–∞–º –∏ –∫—É—Ö–Ω—è–º
```javascript
db.restaurants.aggregate([
  {
    $group: {
      _id: {
        borough: "$borough",
        cuisine: "$cuisine"
      },
      count: { $sum: 1 }
    }
  },
  {
    $project: {
      _id: 0,
      borough: "$_id.borough",
      cuisine: "$_id.cuisine",
      count: 1
    }
  },
  { $sort: { borough: 1, cuisine: 1 } }
])
```
![8.](lab_8/zadanie1/8.png)

### 9. –†–µ—Å—Ç–æ—Ä–∞–Ω —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Å—É–º–º–æ–π –±–∞–ª–ª–æ–≤ –≤ Bronx
```javascript
db.restaurants.aggregate([
  { $match: { borough: "Bronx" } },
  {
    $addFields: {
      totalScore: {
        $sum: "$grades.score"
      }
    }
  },
  { $sort: { totalScore: 1 } },
  { $limit: 1 }
])
```
![9.](lab_8/zadanie1/9.png)

### 10. –î–æ–±–∞–≤–∏—Ç—å –ª—é–±–∏–º—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω:
```javascript
db.restaurants.insertOne({
  restaurant_id: "99999999",
  name: "–ú–æ–π –ª—é–±–∏–º—ã–π —Ä–µ—Å—Ç–æ—Ä–∞–Ω",
  borough: "Manhattan",
  cuisine: "Russian",
  address: {
    building: "123",
    street: "Main Street",
    zipcode: "10001",
    coord: [-73.9857, 40.7484]
  },
  grades: [
    { date: new Date(), grade: "A", score: 10 }
  ]
})
```
![10.](lab_8/zadanie1/10.png)

### 11. –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:
```javascript
db.restaurants.updateOne(
  { restaurant_id: "99999999" },
  {
    $set: {
      working_hours: {
        monday: "09:00-22:00",
        tuesday: "09:00-22:00",
        wednesday: "09:00-22:00",
        thursday: "09:00-22:00",
        friday: "09:00-23:00",
        saturday: "10:00-23:00",
        sunday: "10:00-21:00"
      }
    }
  }
)
```
![11.](lab_8/zadanie1/11.png)

### 12. –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:
```javascript
db.restaurants.updateOne(
  { restaurant_id: "99999999" },
  {
    $set: {
      "working_hours.sunday": "11:00-20:00",
      "working_hours.friday": "09:00-24:00"
    }
  }
)
```

![12.](lab_8/zadanie1/12.png)


## –ó–∞–¥–∞–Ω–∏–µ 1: –†–∞–±–æ—Ç–∞ —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π weather.json

### 1. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∏ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ–π
```javascript
db.weather.aggregate([
  {
    $group: {
      _id: null,
      maxTemp: { $max: "$temperature" },
      minTemp: { $min: "$temperature" }
    }
  },
  {
    $project: {
      _id: 0,
      difference: { $subtract: ["$maxTemp", "$minTemp"] }
    }
  }
])
```
![1.](lab_8/zadanie2/1.png)

### 2. –°—Ä–µ–¥–Ω—è—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –±–µ–∑ 10 —Å–∞–º—ã—Ö –Ω–∏–∑–∫–∏—Ö –∏ –≤—ã—Å–æ–∫–∏—Ö:
```javascript
db.weather.aggregate([
  { $sort: { temperature: 1 } },
  {
    $group: {
      _id: null,
      temps: { $push: "$temperature" }
    }
  },
  {
    $project: {
      _id: 0,
      avgTemp: {
        $avg: {
          $slice: [
            "$temps",
            10,
            { $subtract: [{ $size: "$temps" }, 20] }
          ]
        }
      }
    }
  }
])
```
![2.](lab_8/zadanie2/2.png)

### 3. 10 —Å–∞–º—ã—Ö —Ö–æ–ª–æ–¥–Ω—ã—Ö –¥–Ω–µ–π —Å —é–∂–Ω—ã–º –≤–µ—Ç—Ä–æ–º:
```javascript
db.weather.aggregate([
  { $match: { wind_direction: "–Æ–∂–Ω—ã–π" } },
  { $sort: { temperature: 1 } },
  { $limit: 10 },
  {
    $group: {
      _id: null,
      avgTemp: { $avg: "$temperature" },
      records: { $push: "$$ROOT" }
    }
  }
])
```
![3.](lab_8/zadanie2/3.png)

### 4. –î–Ω–∏ —Å–æ —Å–Ω–µ–≥–æ–º (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ < 0 –∏ code = "SN"):
```javascript
db.weather.aggregate([
  { 
    $match: { 
      temperature: { $lt: 0 },
      code: "SN"
    } 
  },
  {
    $group: {
      _id: {
        year: "$year",
        month: "$month",
        day: "$day"
      }
    }
  },
  { $count: "snow_days" }
])
```
![4.](lab_8/zadanie2/4.png)

### 5. –†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å–Ω–µ–≥–æ–º –∏ –¥–æ–∂–¥–µ–º –∑–∏–º–æ–π:
```javascript
db.weather.aggregate([
  { $match: { month: { $in: [12, 1, 2] } } },
  {
    $group: {
      _id: "$code",
      count: { $sum: 1 }
    }
  },
  { $sort: { _id: 1 } }
])
```
![5.](lab_8/zadanie2/5.png)

### 6. –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Å–∞–¥–∫–æ–≤ –≤ —è—Å–Ω—ã–π –¥–µ–Ω—å:
```javascript
db.weather.aggregate([
  {
    $group: {
      _id: {
        year: "$year",
        month: "$month",
        day: "$day"
      },
      clear_count: {
        $sum: { $cond: [{ $eq: ["$code", "CL"] }, 1, 0] }
      },
      total_measurements: { $sum: 1 },
      has_precipitation: {
        $max: { $cond: [{ $ne: ["$code", "CL"] }, 1, 0] }
      }
    }
  },
  {
    $match: {
      $expr: {
        $gt: [
          { $divide: ["$clear_count", "$total_measurements"] },
          0.75
        ]
      }
    }
  },
  {
    $group: {
      _id: null,
      total_clear_days: { $sum: 1 },
      precipitation_days: { $sum: "$has_precipitation" }
    }
  },
  {
    $project: {
      _id: 0,
      probability: {
        $multiply: [
          { $divide: ["$precipitation_days", "$total_clear_days"] },
          100
        ]
      }
    }
  }
])
```
![6.](lab_8/zadanie2/6.png)

## 7. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ –Ω–µ—á–µ—Ç–Ω—ã–µ –¥–Ω–∏ –∑–∏–º—ã:
```javascript
db.weather.aggregate([
  { 
    $match: { 
      month: { $in: [12, 1, 2] },
      day: { $mod: [2, 1] } // –Ω–µ—á–µ—Ç–Ω—ã–µ –¥–Ω–∏
    }
  },
  {
    $group: {
      _id: null,
      avgTempOriginal: { $avg: "$temperature" },
      count: { $sum: 1 }
    }
  },
  {
    $project: {
      _id: 0,
      avgTempOriginal: 1,
      avgTempIncreased: { $add: ["$avgTempOriginal", 1] },
      change: 1
    }
  }
])
```
![7.](lab_8/zadanie2/7.png)